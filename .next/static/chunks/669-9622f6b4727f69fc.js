"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[669],{11158:(e,t,s)=>{s.d(t,{A:()=>h});var a=s(37876),r=s(14232),i=s(89983),n=s(57391),l=s(53397),o=s(35627),d=s(83707),c=s(97685),u=s(12099),m=s(94723);function h(e){let{isOpen:t,onClose:s,refresh:h,setRefresh:x}=e,[f,p]=(0,r.useState)(!1),[g,v]=(0,r.useState)(""),[j,b]=(0,r.useState)(""),[y,w]=(0,r.useState)(""),[N,C]=(0,r.useState)(5e4),{token:A}=(0,u.A)(),k=async e=>{if(e.preventDefault(),!g||!j||!y||!N)return void c.oR.error("All fields are required.");p(!0);try{await (0,m.ZA)({title:g,author:j,genre:y,targetCount:N},A)&&(c.oR.success("Manuscript created successfully"),v(""),b(""),w(""),C(5e4),x(!h),s())}catch(e){console.error("Error while creating manuscript:",e),c.oR.error(e.message||"Something went wrong. Please try again.")}finally{p(!1)}};return(0,a.jsx)(n.lG,{open:t,onOpenChange:s,children:(0,a.jsxs)(n.Cf,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(n.c7,{children:[(0,a.jsx)(n.L3,{children:"Create New Manuscript"}),(0,a.jsx)(n.rr,{children:"Enter the details for your new manuscript. You can edit these later."})]}),(0,a.jsxs)("form",{onSubmit:k,children:[(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(o.J,{htmlFor:"title",children:"Title"}),(0,a.jsx)(l.p,{id:"title",value:g,onChange:e=>v(e.target.value),placeholder:"Enter manuscript title",required:!0})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(o.J,{htmlFor:"author",children:"Author"}),(0,a.jsx)(l.p,{id:"author",value:j,onChange:e=>b(e.target.value),placeholder:"Your name",required:!0})]}),(0,a.jsxs)("div",{className:"grid gap-2 w-full",children:[(0,a.jsx)(o.J,{htmlFor:"genre",children:"Genre"}),(0,a.jsxs)(d.l6,{value:y,onValueChange:w,required:!0,children:[(0,a.jsx)(d.bq,{id:"genre",className:"w-full",children:(0,a.jsx)(d.yv,{placeholder:"Select genre"})}),(0,a.jsxs)(d.gC,{children:[(0,a.jsx)(d.eb,{value:"Fiction",children:"Fiction"}),(0,a.jsx)(d.eb,{value:"Mystery",children:"Mystery"}),(0,a.jsx)(d.eb,{value:"Thriller",children:"Thriller"}),(0,a.jsx)(d.eb,{value:"Romance",children:"Romance"}),(0,a.jsx)(d.eb,{value:"Sci-Fi",children:"Science Fiction"}),(0,a.jsx)(d.eb,{value:"Fantasy",children:"Fantasy"}),(0,a.jsx)(d.eb,{value:"Horror",children:"Horror"}),(0,a.jsx)(d.eb,{value:"Non-Fiction",children:"Non-Fiction"}),(0,a.jsx)(d.eb,{value:"Memoir",children:"Memoir"}),(0,a.jsx)(d.eb,{value:"Biography",children:"Biography"}),(0,a.jsx)(d.eb,{value:"Other",children:"Other"})]})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(o.J,{htmlFor:"targetWordCount",children:"Target Word Count"}),(0,a.jsx)(l.p,{id:"targetWordCount",type:"number",min:1e3,value:N,onChange:e=>C(parseInt(e.target.value,10)),required:!0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Common targets: Novel (50,000–100,000), Novella (20,000–50,000), Short Story (1,000–20,000)"})]})]}),(0,a.jsxs)(n.Es,{children:[(0,a.jsx)(i.$,{type:"button",variant:"outline",onClick:s,children:"Cancel"}),(0,a.jsx)(i.$,{disabled:f,type:"submit",children:f?"Creating Manuscript...":"Create Manuscript"})]})]})]})})}},22060:(e,t,s)=>{s.d(t,{E:()=>o});var a=s(37876);s(14232);var r=s(82987),i=s(47137),n=s(8488);let l=(0,i.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:s,asChild:i=!1,...o}=e,d=i?r.DX:"span";return(0,a.jsx)(d,{"data-slot":"badge",className:(0,n.cn)(l({variant:s}),t),...o})}},22676:(e,t,s)=>{s.d(t,{SQ:()=>o,_2:()=>d,lp:()=>c,mB:()=>u,rI:()=>n,ty:()=>l});var a=s(37876);s(14232);var r=s(97154),i=s(8488);function n(e){let{...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"dropdown-menu",...t})}function l(e){let{...t}=e;return(0,a.jsx)(r.l9,{"data-slot":"dropdown-menu-trigger",...t})}function o(e){let{className:t,sideOffset:s=4,...n}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsx)(r.UC,{"data-slot":"dropdown-menu-content",sideOffset:s,className:(0,i.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function d(e){let{className:t,inset:s,variant:n="default",...l}=e;return(0,a.jsx)(r.q7,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":n,className:(0,i.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l})}function c(e){let{className:t,inset:s,...n}=e;return(0,a.jsx)(r.JU,{"data-slot":"dropdown-menu-label","data-inset":s,className:(0,i.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function u(e){let{className:t,...s}=e;return(0,a.jsx)(r.wv,{"data-slot":"dropdown-menu-separator",className:(0,i.cn)("bg-border -mx-1 my-1 h-px",t),...s})}},23157:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(37876),r=s(7446);function i(){return(0,a.jsx)("div",{className:"flex items-center justify-center mx-auto",children:(0,a.jsx)(r.A,{className:"w-9 h-9 animate-spin text-primary"})})}s(14232)},46953:(e,t,s)=>{s.d(t,{e:()=>k});var a=s(37876),r=s(11340),i=s(57695),n=s(11111),l=s(12364),o=s(1e3),d=s(78073),c=s(69847),u=s(20741),m=s(35406),h=s(43846),x=s(71449),f=s(62212),p=s(99239),g=s(54587),v=s.n(g),j=s(48230),b=s.n(j),y=s(14e3),w=s(8488),N=s(93327),C=s(14232),A=s(12099);function k(){let e=(0,y.useRouter)(),{user:t}=(0,A.A)(),s=(null==t?void 0:t.subscription)==="Premium";(0,C.useEffect)(()=>{localStorage.getItem("token")||e.push("/")},[e]);let g=(0,y.usePathname)(),{isExpanded:j}=(0,N.c)(),k=j?256:80,z=[{title:"Dashboard",icon:r.A,href:"/dashboard",alwaysVisible:!0},{title:"Manuscript Manager",icon:i.A,href:"/dashboard/manuscript",premiumOnly:!0},{title:"Editor",icon:n.A,href:"/dashboard/editor",premiumOnly:!0},{title:"Formatting Wizard",icon:l.A,href:"/dashboard/formatting-wizard",premiumOnly:!0},{title:"Children’s Book Wizard",icon:o.A,href:"/dashboard/childrens-book-wizard",premiumOnly:!0},{title:"Marketing",icon:d.A,href:"/dashboard/marketing",premiumOnly:!0},{title:"Cover Design",icon:c.A,href:"/dashboard/cover-design",premiumOnly:!0},{title:"Publishing Checklist",icon:u.A,href:"/dashboard/publishing-checklist",alwaysVisible:!0},{title:"Distribution",icon:m.A,href:"/",premiumOnly:!0}],S=[{title:"Subscription",icon:h.A,href:"/dashboard/subscription",alwaysVisible:!0},{title:"Settings",icon:x.A,href:"/dashboard/settings",alwaysVisible:!0},{title:"Help",icon:f.A,href:"/dashboard/help",alwaysVisible:!0}];return(0,a.jsxs)("div",{className:"fixed left-0 top-0 z-50 hidden md:flex flex-col h-screen bg-background border-r border-border overflow-hidden",style:{width:k,transition:"width 300ms ease-in-out",marginLeft:0},children:[(0,a.jsx)("div",{className:(0,w.cn)("flex items-center justify-center py-2 mt-[3px]",j?"px-4":"px-2"),children:(0,a.jsx)(b(),{href:"/dashboard",children:j?(0,a.jsx)(v(),{src:"/images/home/logo.png",alt:"Logo",className:"w-32",width:1e3,height:1e3}):(0,a.jsx)("div",{className:"flex items-center justify-center py-2 mt-[6px]",children:(0,a.jsx)(v(),{src:"/images/home/logo.png",alt:"Logo",className:"w-20",width:1e3,height:1e3})})})}),(0,a.jsx)("div",{className:"mx-2 h-[1px] bg-border"}),(0,a.jsx)("div",{className:"flex-1 overflow-auto px-3 py-2",children:(0,a.jsx)("nav",{className:"space-y-1",children:z.map(e=>{let t=e.premiumOnly&&!s,r=g===e.href;return(0,a.jsx)("div",{className:"relative",children:t?(0,a.jsxs)("div",{className:(0,w.cn)("flex items-center gap-3 rounded-md text-sm font-medium cursor-not-allowed opacity-50",j?"px-3 py-2.5":"py-2.5 justify-center"),title:j?void 0:"".concat(e.title," - Premium Feature"),children:[(0,a.jsx)(e.icon,{className:"h-5 w-5"}),j&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:e.title}),(0,a.jsx)(p.A,{className:"h-4 w-4 ml-auto text-muted-foreground"})]})]}):(0,a.jsxs)(b(),{href:e.href,className:(0,w.cn)("flex items-center gap-3 rounded-md text-sm font-medium",r?"bg-primary text-white":"text-foreground hover:bg-[#eaa8f9]",j?"px-3 py-2.5":"py-2.5 justify-center","Distribution"===e.title&&"pointer-events-none opacity-50"),title:j?void 0:e.title,children:[(0,a.jsx)(e.icon,{className:"h-5 w-5"}),j&&(0,a.jsx)("span",{children:e.title})]})},e.href)})})}),(0,a.jsx)("div",{className:(0,w.cn)("py-4 border-t border-border",j?"px-4":"px-2"),children:(0,a.jsx)("nav",{className:"space-y-1",children:S.map(e=>{let t=e.premiumOnly&&!s,r=g===e.href;return(0,a.jsx)("div",{className:"relative",children:t?(0,a.jsxs)("div",{className:(0,w.cn)("flex items-center gap-3 rounded-md text-sm font-medium cursor-not-allowed opacity-50",j?"px-3 py-2.5":"py-2.5 justify-center"),title:j?void 0:"".concat(e.title," - Premium Feature"),children:[(0,a.jsx)(e.icon,{className:"h-5 w-5"}),j&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:e.title}),(0,a.jsx)(p.A,{className:"h-4 w-4 ml-auto text-muted-foreground"})]})]}):(0,a.jsxs)(b(),{href:e.href,className:(0,w.cn)("flex items-center gap-3 rounded-md text-sm font-medium",r?"bg-primary text-white":"text-foreground hover:bg-[#eaa8f9]",j?"px-3 py-2.5":"py-2.5 justify-center"),title:j?void 0:e.title,children:[(0,a.jsx)(e.icon,{className:"h-5 w-5"}),j&&(0,a.jsx)("span",{children:e.title})]})},e.href)})})})]})}s(22060)},57391:(e,t,s)=>{s.d(t,{Cf:()=>u,Es:()=>h,HM:()=>d,L3:()=>x,c7:()=>m,lG:()=>l,rr:()=>f});var a=s(37876);s(14232);var r=s(26303),i=s(70672),n=s(8488);function l(e){let{...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"dialog",...t})}function o(e){let{...t}=e;return(0,a.jsx)(r.ZL,{"data-slot":"dialog-portal",...t})}function d(e){let{...t}=e;return(0,a.jsx)(r.bm,{"data-slot":"dialog-close",...t})}function c(e){let{className:t,...s}=e;return(0,a.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function u(e){let{className:t,children:s,...l}=e;return(0,a.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,a.jsx)(c,{}),(0,a.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...l,children:[s,(0,a.jsxs)(r.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(i.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",t),...s})}function h(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function x(e){let{className:t,...s}=e;return(0,a.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,n.cn)("text-lg leading-none font-semibold",t),...s})}function f(e){let{className:t,...s}=e;return(0,a.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...s})}},72422:(e,t,s)=>{s.d(t,{k:()=>n});var a=s(37876);s(14232);var r=s(24972),i=s(8488);function n(e){let{className:t,value:s,...n}=e;return(0,a.jsx)(r.bL,{"data-slot":"progress",className:(0,i.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:(0,a.jsx)(r.C1,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})}},83707:(e,t,s)=>{s.d(t,{bq:()=>u,eb:()=>h,gC:()=>m,l6:()=>d,yv:()=>c});var a=s(37876);s(14232);var r=s(37740),i=s(30822),n=s(33276),l=s(21575),o=s(8488);function d(e){let{...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"select",...t})}function c(e){let{...t}=e;return(0,a.jsx)(r.WT,{"data-slot":"select-value",...t})}function u(e){let{className:t,size:s="default",children:n,...l}=e;return(0,a.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":s,className:(0,o.cn)(" border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l,children:[n,(0,a.jsx)(r.In,{asChild:!0,children:(0,a.jsx)(i.A,{className:"size-4 opacity-50"})})]})}function m(e){let{className:t,children:s,position:i="popper",...n}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{"data-slot":"select-content",className:(0,o.cn)("w-full bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===i&&"w-full data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...n,children:[(0,a.jsx)(x,{}),(0,a.jsx)(r.LM,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,a.jsx)(f,{})]})})}function h(e){let{className:t,children:s,...i}=e;return(0,a.jsxs)(r.q7,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...i,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(n.A,{className:"size-4"})})}),(0,a.jsx)(r.p4,{children:s})]})}function x(e){let{className:t,...s}=e;return(0,a.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(l.A,{className:"size-4"})})}function f(e){let{className:t,...s}=e;return(0,a.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(i.A,{className:"size-4"})})}},89717:(e,t,s)=>{s.d(t,{V:()=>es});var a=s(37876),r=s(14232),i=s(28447),n=s(95952),l=s(30822),o=s(92577),d=s(80395),c=s(89983),u=s(22676),m=s(24624),h=s(8488);function x(e){let{className:t,...s}=e;return(0,a.jsx)(m.bL,{"data-slot":"avatar",className:(0,h.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...s})}function f(e){let{className:t,...s}=e;return(0,a.jsx)(m._V,{"data-slot":"avatar-image",className:(0,h.cn)("aspect-square size-full",t),...s})}function p(e){let{className:t,...s}=e;return(0,a.jsx)(m.H4,{"data-slot":"avatar-fallback",className:(0,h.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...s})}var g=s(93327),v=s(1e3),j=s(69847),b=s(35406),y=s(99239),w=s(26303),N=s(70672);function C(e){let{...t}=e;return(0,a.jsx)(w.bL,{"data-slot":"sheet",...t})}function A(e){let{...t}=e;return(0,a.jsx)(w.l9,{"data-slot":"sheet-trigger",...t})}function k(e){let{...t}=e;return(0,a.jsx)(w.ZL,{"data-slot":"sheet-portal",...t})}function z(e){let{className:t,...s}=e;return(0,a.jsx)(w.hJ,{"data-slot":"sheet-overlay",className:(0,h.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function S(e){let{className:t,children:s,side:r="right",...i}=e;return(0,a.jsxs)(k,{children:[(0,a.jsx)(z,{}),(0,a.jsxs)(w.UC,{"data-slot":"sheet-content",className:(0,h.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===r&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===r&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===r&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===r&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...i,children:[s,(0,a.jsxs)(w.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,a.jsx)(N.A,{className:"size-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}var _=s(11340),M=s(57695),O=s(11111),F=s(12364),L=s(78073),E=s(20741),V=s(43846),P=s(71449),R=s(62212),D=s(54587),q=s.n(D),W=s(48230),B=s.n(W),U=s(14e3),$=s(12099),J=s(22060);function T(){let e=(0,U.usePathname)(),{isExpanded:t,toggleSidebar:s}=(0,g.c)(),{user:r}=(0,$.A)(),n=(null==r?void 0:r.subscription)==="Premium",l=[{title:"Dashboard",icon:_.A,href:"/dashboard",alwaysVisible:!0},{title:"Manuscript Manager",icon:M.A,href:"/dashboard/manuscript",premiumOnly:!0},{title:"Editor",icon:O.A,href:"/dashboard/editor",premiumOnly:!0},{title:"Formatting Wizard",icon:F.A,href:"/dashboard/formatting-wizard",premiumOnly:!0},{title:"Children’s Book Wizard",icon:v.A,href:"/dashboard/childrens-book-wizard",premiumOnly:!0},{title:"Marketing",icon:L.A,href:"/dashboard/marketing",premiumOnly:!0},{title:"Cover Design",icon:j.A,href:"/dashboard/cover-design",premiumOnly:!0},{title:"Publishing Checklist",icon:E.A,href:"/dashboard/publishing-checklist",alwaysVisible:!0},{title:"Distribution",icon:b.A,href:"/",premiumOnly:!0}],o=[{title:"Subscription",icon:V.A,href:"/dashboard/subscription",alwaysVisible:!0},{title:"Settings",icon:P.A,href:"/dashboard/settings",alwaysVisible:!0},{title:"Help",icon:R.A,href:"/dashboard/help",alwaysVisible:!0}];return(0,a.jsxs)(C,{children:[(0,a.jsx)(A,{asChild:!0,children:(0,a.jsxs)(c.$,{variant:"ghost",size:"icon",className:"md:hidden text-primary",children:[(0,a.jsx)(i.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,a.jsx)(S,{side:"left",className:"p-0 w-64",children:(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsx)("div",{className:"flex items-center justify-center py-2 mt-[3px] px-4",children:(0,a.jsx)(B(),{href:"/dashboard",children:(0,a.jsx)(q(),{src:"/images/home/logo.png",alt:"Logo",className:"w-32",width:1e3,height:1e3})})}),(0,a.jsx)("div",{className:"mx-2 h-[1px] bg-border"}),(0,a.jsx)("div",{className:"flex-1 overflow-auto px-3 py-2",children:(0,a.jsx)("nav",{className:"space-y-1",children:l.map(t=>{let s=t.premiumOnly&&!n,r=e===t.href;return(0,a.jsx)("div",{className:"relative",children:s?(0,a.jsxs)("div",{className:(0,h.cn)("flex items-center gap-3 px-3 py-2.5 rounded-md text-sm font-medium cursor-not-allowed opacity-50"),title:"".concat(t.title," - Premium Feature"),children:[(0,a.jsx)(t.icon,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:t.title}),(0,a.jsx)(y.A,{className:"h-4 w-4 ml-auto text-muted-foreground"})]}):(0,a.jsxs)(B(),{href:t.href,className:(0,h.cn)("flex items-center gap-3 px-3 py-2.5 rounded-md text-sm font-medium",r?"bg-primary text-white":"text-foreground hover:bg-[#eaa8f9]","Distribution"===t.title&&"pointer-events-none opacity-50"),children:[(0,a.jsx)(t.icon,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:t.title})]})},t.href)})})}),(0,a.jsx)("div",{className:"px-3 py-4 border-t border-border",children:(0,a.jsx)("nav",{className:"space-y-1",children:o.map(t=>{let s=t.premiumOnly&&!n,r=e===t.href;return(0,a.jsx)("div",{className:"relative",children:s?(0,a.jsxs)("div",{className:(0,h.cn)("flex items-center gap-3 px-3 py-2.5 rounded-md text-sm font-medium cursor-not-allowed opacity-50"),title:"".concat(t.title," - Premium Feature"),children:[(0,a.jsx)(t.icon,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:t.title}),(0,a.jsx)(y.A,{className:"h-4 w-4 ml-auto text-muted-foreground"})]}):(0,a.jsxs)(B(),{href:t.href,className:(0,h.cn)("flex items-center gap-3 px-3 py-2.5 rounded-md text-sm font-medium",r?"bg-primary text-white":"text-foreground hover:bg-[#eaa8f9]"),children:[(0,a.jsx)(t.icon,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:t.title})]})},t.href)})})})]})})]})}var G=s(89099),H=s(97685),I=s(72422),Y=s(65104),Z=s(94723),Q=s(57391);function X(e){let{isOpen:t,onClose:s,onConfirm:r}=e;return(0,a.jsx)(Q.lG,{open:t,onOpenChange:s,children:(0,a.jsxs)(Q.Cf,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(Q.c7,{className:"text-center sm:text-left",children:[(0,a.jsx)(Q.L3,{className:"text-lg font-semibold",children:"Confirm Manuscript Change"}),(0,a.jsx)(Q.rr,{className:"text-sm text-muted-foreground",children:"Are you sure you want to change the manuscript? This action cannot be undone and any unsaved changes will be lost."})]}),(0,a.jsxs)(Q.Es,{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",children:[(0,a.jsx)(c.$,{variant:"outline",onClick:s,className:"mt-3 sm:mt-0",children:"Cancel"}),(0,a.jsx)(c.$,{onClick:r,className:"bg-primary ",children:"Yes, Change Manuscript"})]})]})})}var K=s(23157),ee=s(11158);function et(e){let{refresh:t,setRefresh:s}=e,{user:i,token:n,updateUser:l}=(0,$.A)(),[o,d]=(0,r.useState)([]),[c,m]=(0,r.useState)(!0),[h,x]=(0,r.useState)(!1),[f,p]=(0,r.useState)(null),[g,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{n&&(async()=>{try{m(!0);let e=await (0,Z.ug)(n);"success"===e.status?d(e.data):H.oR.error(e.message||"Failed to fetch manuscripts.")}catch(e){H.oR.error(e.message)}finally{m(!1)}})()},[n,t]);let j=async()=>{if(i.selectedManuscript._id===f)return void x(!1);let e=await (0,Z.DG)({selectedManuscript:f},n);"success"!==e.status?H.oR.error(e.message):(l(e.user),H.oR.success("Manuscript Changed!")),x(!1)},b=e=>{p(e),x(!0)};return(0,a.jsxs)("div",{children:[(0,a.jsxs)(u.SQ,{align:"start",className:"w-[280px]",children:[(0,a.jsx)(u.lp,{children:"Your Manuscripts"}),(0,a.jsx)(u.mB,{}),c?(0,a.jsx)(u._2,{children:(0,a.jsx)(K.A,{})}):0===o.length?(0,a.jsx)(u._2,{children:"No manuscripts available"}):o.map(e=>{var t,s,r;return(0,a.jsxs)(u._2,{className:"flex flex-col items-start py-2 cursor-pointer ".concat((null==i||null==(t=i.selectedManuscript)?void 0:t._id)===e._id?"bg-[#eaa8f9]":"text-black"),onClick:()=>b(e._id),children:[(0,a.jsxs)("div",{className:"flex w-full justify-between items-center",children:[(0,a.jsx)("span",{className:"font-medium truncate max-w-[180px]",title:e.title,children:e.title}),(0,a.jsx)(J.E,{variant:"outline",className:"ml-2 border-0 bg-primary text-white",children:e.genre})]}),(0,a.jsxs)("div",{className:"w-full mt-1",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-black mb-1",children:[(0,a.jsxs)("div",{className:"flex justify-between gap-2 text-sm",children:[(0,a.jsx)("span",{className:"text-primary",children:"Word Count"}),(0,a.jsxs)("span",{className:"font-medium",children:[(null==(s=e.wordCount)?void 0:s.toLocaleString())||0," /"," ",(null==(r=e.targetCount)?void 0:r.toLocaleString())||0]})]}),(0,a.jsxs)("span",{children:[e.targetCount?Math.round(e.wordCount/e.targetCount*100):0,"%"]})]}),(0,a.jsx)(I.k,{value:e.targetCount?e.wordCount/e.targetCount*100:0,className:"h-1"})]})]},e._id)}),(0,a.jsx)(u.mB,{}),(0,a.jsxs)(u._2,{onClick:()=>v(!0),children:[(0,a.jsx)(Y.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"New Manuscript"})]})]}),(0,a.jsx)(ee.A,{isOpen:g,onClose:()=>v(!1),refresh:t,setRefresh:s}),(0,a.jsx)(X,{isOpen:h,onClose:()=>x(!1),onConfirm:j})]})}function es(e){var t;let{refresh:s,setRefresh:m}=e,{toggleSidebar:h,isExpanded:v}=(0,g.c)(),{user:j,logout:b}=(0,$.A)(),y=(0,G.useRouter)(),[w,N]=(0,r.useState)(!1),C=async()=>{await b(),y.push("/")};(0,r.useEffect)(()=>{function e(){N(window.innerWidth>=768)}return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let A=v?"16rem":"5rem";return(0,a.jsxs)("header",{className:"fixed top-0 z-50 h-16 flex items-center gap-4 border-b bg-white px-4 left-0 w-full ".concat(w?"transition-all duration-300 ease":""),style:w?{left:A,width:"calc(100% - ".concat(A,")")}:{left:0,width:"100%"},children:[(0,a.jsx)("div",{className:"md:hidden",children:(0,a.jsx)(T,{})}),(0,a.jsxs)(c.$,{variant:"ghost",size:"icon",onClick:h,className:"hidden md:flex text-primary",children:[(0,a.jsx)(i.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle sidebar"})]}),(0,a.jsxs)("div",{className:"flex flex-1 items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)(u.rI,{children:[(0,a.jsx)(u.ty,{asChild:!0,children:(0,a.jsxs)(c.$,{variant:"outline",className:"gap-2 border-[#eaa8f9] text-primary",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"max-w-[150px] truncate hidden sm:inline-block",children:(null==j||null==(t=j.selectedManuscript)?void 0:t.title)||"Select Manuscript"}),(0,a.jsx)("span",{className:"inline-block sm:hidden",children:"Manuscript"}),(0,a.jsx)(l.A,{className:"h-4 w-4 opacity-50"})]})}),(0,a.jsx)(et,{refresh:s,setRefresh:m})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(c.$,{variant:"ghost",size:"icon","aria-label":"Notifications",className:"text-primary",children:(0,a.jsx)(o.A,{className:"h-5 w-5"})}),(0,a.jsxs)(u.rI,{children:[(0,a.jsx)(u.ty,{asChild:!0,children:(0,a.jsx)(c.$,{variant:"ghost",className:"relative h-8 w-8 rounded-full ring-2 ring-[#eaa8f9]",children:(0,a.jsxs)(x,{className:"h-8 w-8",children:[(0,a.jsx)(f,{src:null==j?void 0:j.profilePicture,alt:(null==j?void 0:j.name)||"User"}),(0,a.jsx)(p,{className:"bg-[#eaa8f9] text-primary",children:(null==j?void 0:j.firstName)?j.firstName.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2):"NA"})]})})}),(0,a.jsxs)(u.SQ,{align:"end",children:[(0,a.jsxs)(u.lp,{children:[(null==j?void 0:j.firstName)?(null==j?void 0:j.firstName.charAt(0).toUpperCase())+(null==j?void 0:j.firstName.slice(1)):""," ",(null==j?void 0:j.lastName)?(null==j?void 0:j.lastName.charAt(0).toUpperCase())+(null==j?void 0:j.lastName.slice(1)):"",(0,a.jsx)("br",{}),(0,a.jsx)("small",{children:null==j?void 0:j.email})]}),(0,a.jsx)(u.mB,{}),(0,a.jsx)(u._2,{onClick:()=>y.push("/dashboard/settings"),children:"Settings"}),(0,a.jsx)(u.mB,{}),(0,a.jsxs)(u._2,{onClick:C,className:"text-red-600 dark:text-red-400",children:[(0,a.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]})]})]})]})}},93327:(e,t,s)=>{s.d(t,{G:()=>n,c:()=>l});var a=s(37876),r=s(14232);let i=(0,r.createContext)({isExpanded:!0,toggleSidebar:()=>{}});function n(e){let{children:t}=e,[s,n]=(0,r.useState)(!0);return(0,a.jsx)(i.Provider,{value:{isExpanded:s,toggleSidebar:()=>{n(e=>!e)}},children:t})}let l=()=>(0,r.useContext)(i)}}]);