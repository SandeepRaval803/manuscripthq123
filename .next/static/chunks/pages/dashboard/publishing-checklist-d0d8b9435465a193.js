(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[355],{6651:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>C});var a=t(37876),l=t(14232),i=t(46953),r=t(89717),c=t(93327),d=t(12099),n=t(89099),x=t(70672);let m=(0,t(11713).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var o=t(14463),h=t(65805),j=t(69518),p=t(13569),N=t(20710),u=t(33654),b=t(89081),v=t(89983),f=t(72422),y=t(22060),g=t(94723),w=t(23157);let k=()=>{let{token:e,user:s,updateUser:t}=(0,d.A)(),i=(0,n.useRouter)(),[r,c]=(0,l.useState)(!1),[k,A]=(0,l.useState)([]),[C,S]=(0,l.useState)(null),[P,z]=(0,l.useState)(0),[_,E]=(0,l.useState)(0),[M,T]=(0,l.useState)(0),[Z,F]=(0,l.useState)(!1),[W,L]=(0,l.useState)(!1),[O,R]=(0,l.useState)(""),[B,$]=(0,l.useState)([]);(0,l.useEffect)(()=>{e&&(async()=>{c(!0);let t=await (0,g.iV)(e,s);if(t.length>0){let e=t.flatMap(e=>e.checklist),s=e.filter(e=>e.completed).length;A(t),z(e.length),E(s),T(0===e.length?0:Math.round(s/e.length*100)),H(t[0])}else A([]),z(0),E(0),T(0);c(!1)})()},[e,s]);let D=async t=>{if(!e||!t||!(null==s?void 0:s.selectedManuscript))return;L(!0);let{title:a,tasks:l}=await (0,g.Bl)(e,s,t);R(a),$(l),L(!1)},H=e=>{S(e),D(e.id),window.innerWidth<768&&F(!1)},U=e=>{i.push("/dashboard/view-task/".concat(e))},V=B.filter(e=>e.completed).length,X=B.length,q=X>0?Math.round(V/X*100):0;return(0,a.jsxs)("div",{className:"h-screen bg-slate-50 flex relative",children:[(0,a.jsx)(v.$,{variant:"outline",size:"sm",className:"fixed top-20 right-3 z-50 md:hidden bg-white shadow-lg border-primary hover:bg-primary/5",onClick:()=>F(!Z),children:Z?(0,a.jsx)(x.A,{className:"w-4 h-4 text-primary"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m,{className:"w-4 h-4 text-primary mr-2"}),(0,a.jsx)("span",{className:"text-primary font-medium",children:"Categories"})]})}),(0,a.jsxs)("div",{className:"\n          fixed md:relative inset-y-0 left-0 z-40 w-80 bg-white border-r border-slate-200 \n          flex flex-col h-screen transform transition-transform duration-300 ease-in-out\n          md:translate-x-0 ".concat(Z?"translate-x-0":"-translate-x-full","\n        "),children:[(0,a.jsxs)("div",{className:"p-6 border-b border-slate-200 flex-shrink-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-slate-900",children:"Publishing Checklist"}),(0,a.jsx)(v.$,{variant:"ghost",size:"sm",className:"md:hidden",onClick:()=>F(!1),children:(0,a.jsx)(x.A,{className:"w-4 h-4"})})]}),(0,a.jsx)(b.Zp,{className:"bg-primary text-white border-0",children:(0,a.jsxs)(b.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"text-center mb-3",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[M,"%"]}),(0,a.jsx)("div",{className:"text-sm opacity-90",children:"Overall Progress"})]}),(0,a.jsx)(f.k,{value:M,className:"h-2 bg-white/20 [&>div]:bg-white mb-2"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs opacity-90",children:[(0,a.jsxs)("span",{children:[_," done"]}),(0,a.jsxs)("span",{children:[P-_," remaining"]})]})]})}),(null==s?void 0:s.subscription)==="Free"&&(0,a.jsx)(v.$,{variant:"outline",size:"sm",className:"w-full my-5 border-2 border-primary",onClick:()=>{i.push("/dashboard/subscription")},children:"Subscribe Now"})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:r?(0,a.jsx)(w.A,{}):(0,a.jsx)("div",{className:"space-y-2",children:k.map(e=>{let t=e.checklist.some(e=>e.isProOnly),l="Free"===s.subscription&&t,i=e.counts.total>0?Math.round(e.counts.completed/e.counts.total*100):0,r=(null==C?void 0:C.id)===e.id;return(0,a.jsxs)("div",{className:"p-3 rounded-lg cursor-pointer transition-colors ".concat(r?"bg-primary/10 border border-primary":"hover:bg-slate-50"),onClick:()=>H(e),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h3",{className:"font-medium text-sm ".concat(l?"text-slate-400":"text-slate-900"),children:e.title}),l&&(0,a.jsx)(o.A,{className:"w-4 h-4 text-primary"})]}),!l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-slate-600 mb-1",children:[(0,a.jsxs)("span",{children:[e.counts.completed,"/",e.counts.total]}),(0,a.jsxs)("span",{children:[i,"%"]})]}),(0,a.jsx)(f.k,{value:i,className:"h-1 [&>div]:bg-primary"})]})]},e.id)})})})]}),Z&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden",onClick:()=>F(!1)}),(0,a.jsx)("div",{className:"flex-1 flex flex-col h-screen",children:C?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-10 shadow-sm",children:(0,a.jsxs)("div",{className:"p-4 md:p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-slate-600 mb-1",children:[(0,a.jsx)(h.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Publishing Checklist"})]})}),X>0&&(0,a.jsxs)("div",{className:"hidden md:flex items-center space-x-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-primary",children:[q,"%"]}),(0,a.jsx)("div",{className:"text-xs text-slate-600",children:"Complete"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-emerald-600",children:V}),(0,a.jsx)("div",{className:"text-xs text-slate-600",children:"Done"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-slate-600",children:X-V}),(0,a.jsx)("div",{className:"text-xs text-slate-600",children:"Remaining"})]})]})]}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-900 mt-2",children:O||C.title})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:W?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(w.A,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Loading Tasks"}),(0,a.jsx)("p",{className:"text-slate-600",children:"Please wait while we fetch your task details..."})]})]})}):(0,a.jsxs)("div",{className:"max-w-6xl space-y-8",children:[X>0&&(0,a.jsx)("div",{className:"md:hidden",children:(0,a.jsx)(b.Zp,{className:"bg-primary text-white border-0",children:(0,a.jsxs)(b.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(j.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-semibold",children:"Progress Overview"})]}),(0,a.jsxs)(y.E,{variant:"secondary",className:"bg-white/20 text-white border-0",children:[q,"% Complete"]})]}),(0,a.jsx)(f.k,{value:q,className:"h-2 bg-white/20 [&>div]:bg-white mb-4"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xl font-bold",children:X}),(0,a.jsx)("div",{className:"text-xs opacity-90",children:"Total"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xl font-bold",children:V}),(0,a.jsx)("div",{className:"text-xs opacity-90",children:"Done"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xl font-bold",children:X-V}),(0,a.jsx)("div",{className:"text-xs opacity-90",children:"Left"})]})]})]})})}),0===B.length?(0,a.jsx)(b.Zp,{className:"border-0 shadow-lg",children:(0,a.jsxs)(b.Wu,{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(h.A,{className:"w-10 h-10 text-slate-400"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Tasks Available"}),(0,a.jsx)("p",{className:"text-slate-600 mb-6 max-w-md mx-auto",children:"This category doesn't have any tasks yet. Tasks will appear here once they're added to the system."})]})}):(0,a.jsx)("div",{className:"grid gap-4",children:B.map((e,t)=>{var l,r;let c=(null==C||null==(r=C.checklist)||null==(l=r.find(s=>s.id===e.id))?void 0:l.isProOnly)||!1,d="Free"===s.subscription&&c;return(0,a.jsx)(b.Zp,{className:"group border-0 shadow-md transition-all duration-300 overflow-hidden ".concat(d?"cursor-not-allowed opacity-60":"hover:shadow-xl cursor-pointer"),onClick:d?void 0:()=>U(e.id),children:(0,a.jsxs)(b.Wu,{className:"p-0 relative",children:[d&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-100/80 to-slate-200/80 backdrop-blur-sm z-10 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-center space-y-2",children:(0,a.jsxs)(v.$,{size:"sm",className:"bg-primary text-white text-xs px-3 py-1",onClick:()=>{i.push("/dashboard/subscription")},children:[(0,a.jsx)(o.A,{className:"w-3 h-3 mr-1"}),"Upgrade to Unlock"]})})}),(0,a.jsxs)("div",{className:"flex items-center p-6 ".concat(d?"blur-sm":""),children:[(0,a.jsx)("div",{className:"flex-shrink-0 mr-6",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center font-bold text-sm transition-all duration-300 ".concat(e.completed?"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white":"bg-primary text-white"),children:e.completed?(0,a.jsx)(p.A,{className:"w-6 h-6"}):(0,a.jsx)("span",{children:String(t+1).padStart(2,"0")})}),e.completed&&(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-emerald-500 rounded-full flex items-center justify-center",children:(0,a.jsx)(p.A,{className:"w-3 h-3 text-white"})})]})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold transition-all duration-300 ".concat(e.completed?"text-slate-500 line-through":"text-slate-900 group-hover:text-primary"),children:e.title}),c&&(0,a.jsxs)(y.E,{variant:"outline",className:"text-primary border-primary bg-primary/10 text-xs",children:[(0,a.jsx)(o.A,{className:"w-3 h-3 mr-1"}),"Pro"]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2 ml-4",children:e.completed?(0,a.jsxs)(y.E,{className:"bg-emerald-100 text-emerald-700 hover:bg-emerald-100 border-emerald-200",children:[(0,a.jsx)(p.A,{className:"w-3 h-3 mr-1"}),"Completed"]}):(0,a.jsxs)(y.E,{variant:"outline",className:"text-primary border-primary bg-primary/5",children:[(0,a.jsx)(N.A,{className:"w-3 h-3 mr-1"}),"Pending"]})})]}),e.description&&(0,a.jsx)("p",{className:"text-slate-600 leading-relaxed ".concat(e.completed?"text-slate-400":""),children:e.description})]})]})]})},e.id)})}),B.length>0&&(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)(b.Zp,{className:"border-0 shadow-lg",children:[(0,a.jsx)(b.aR,{className:"pb-3",children:(0,a.jsxs)(b.ZB,{className:"flex items-center space-x-2 text-slate-900",children:[(0,a.jsx)(j.A,{className:"w-5 h-5 text-primary"}),(0,a.jsx)("span",{children:"Progress Analytics"})]})}),(0,a.jsxs)(b.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Completion Rate"}),(0,a.jsxs)("span",{className:"text-lg font-bold text-primary",children:[q,"%"]})]}),(0,a.jsx)(f.k,{value:q,className:"h-3 [&>div]:bg-gradient-to-r [&>div]:from-[#CA24D6] [&>div]:to-[#9B1C8C]"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-emerald-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-emerald-600",children:V}),(0,a.jsx)("div",{className:"text-xs text-emerald-600 font-medium",children:"Completed"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-slate-600",children:X-V}),(0,a.jsx)("div",{className:"text-xs text-slate-600 font-medium",children:"Remaining"})]})]})]})]}),(0,a.jsxs)(b.Zp,{className:"border-0 shadow-lg",children:[(0,a.jsx)(b.aR,{className:"pb-3",children:(0,a.jsxs)(b.ZB,{className:"flex items-center space-x-2 text-slate-900",children:[(0,a.jsx)(u.A,{className:"w-5 h-5 text-primary"}),(0,a.jsx)("span",{children:"Category Summary"})]})}),(0,a.jsx)(b.Wu,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-slate-600",children:"Total Tasks"}),(0,a.jsx)("span",{className:"font-semibold text-slate-900",children:X})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-slate-600",children:"Category"}),(0,a.jsx)("span",{className:"font-semibold text-slate-900",children:O||C.title})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-slate-600",children:"Status"}),(0,a.jsx)(y.E,{className:100===q?"bg-emerald-100 text-emerald-700 hover:bg-emerald-100":q>0?"bg-primary/10 text-primary hover:bg-primary/10":"bg-slate-100 text-slate-600 hover:bg-slate-100",children:100===q?"Complete":q>0?"In Progress":"Not Started"})]})]})})]})]})]})})]}):(0,a.jsx)("div",{className:"flex items-center justify-center flex-1 p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(h.A,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Select a Category"}),(0,a.jsx)("p",{className:"text-slate-600",children:k.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"md:hidden",children:'Tap the "Categories" button to choose a category'}),(0,a.jsx)("span",{className:"hidden md:inline",children:"Choose a category from the sidebar to view its tasks"})]}):"No categories available"})]})})})]})};function A(){let{isExpanded:e}=(0,c.c)();return(0,a.jsxs)("div",{className:"flex min-h-screen bg-background",children:[(0,a.jsx)(i.e,{}),(0,a.jsxs)("div",{className:"flex flex-col flex-1 w-0 ".concat(e?"md:ml-64":"md:ml-20"),style:{paddingTop:64},children:[(0,a.jsx)(r.V,{}),(0,a.jsx)("main",{className:"flex-1 overflow-auto",children:(0,a.jsx)(k,{})})]})]})}function C(){return(0,a.jsx)(c.G,{children:(0,a.jsx)(A,{})})}},13569:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(11713).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},14463:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(11713).A)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},20710:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(11713).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},33654:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(11713).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},65805:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(11713).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},69518:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(11713).A)("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},71092:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/publishing-checklist",function(){return t(6651)}])}},e=>{var s=s=>e(e.s=s);e.O(0,[134,644,121,323,669,636,593,792],()=>s(71092)),_N_E=e.O()}]);