(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[537],{11713:(e,s,r)=>{"use strict";r.d(s,{A:()=>h});var t=r(14232);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),o=e=>{let s=l(e);return s.charAt(0).toUpperCase()+s.slice(1)},i=function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return s.filter((e,s,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===s).join(" ").trim()},n=e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,t.forwardRef)((e,s)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:d="",children:h,iconNode:u,...p}=e;return(0,t.createElement)("svg",{ref:s,...c,width:a,height:a,stroke:r,strokeWidth:o?24*Number(l)/Number(a):l,className:i("lucide",d),...!h&&!n(p)&&{"aria-hidden":"true"},...p},[...u.map(e=>{let[s,r]=e;return(0,t.createElement)(s,r)}),...Array.isArray(h)?h:[h]])}),h=(e,s)=>{let r=(0,t.forwardRef)((r,l)=>{let{className:n,...c}=r;return(0,t.createElement)(d,{ref:l,iconNode:s,className:i("lucide-".concat(a(o(e))),"lucide-".concat(e),n),...c})});return r.displayName=o(e),r}},39316:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>j});var t=r(37876),a=r(54587),l=r.n(a),o=r(48230),i=r.n(o),n=r(14232),c=r(89099),d=r(97685),h=r(42341),u=r(67897),p=r(89983),m=r(53397),w=r(35627),x=r(89081),f=r(94723);function y(){let[e,s]=(0,n.useState)(!1),[r,a]=(0,n.useState)(!1),[l,o]=(0,n.useState)(""),[i,y]=(0,n.useState)(""),[g,j]=(0,n.useState)(!1),[v,N]=(0,n.useState)(null),A=(0,c.useRouter)();(0,n.useEffect)(()=>{let e=localStorage.getItem("otpData");if(!e){d.Ay.error("Session expired or invalid. Please request password reset again."),A.replace("/forgot-password");return}try{let s=JSON.parse(e);if(!s.authToken){d.Ay.error("Authentication token missing. Please request password reset again."),A.replace("/forgot-password");return}N(s.authToken)}catch(e){d.Ay.error("Invalid session data. Please request password reset again."),A.replace("/forgot-password")}},[A]);let k=async e=>{if(e.preventDefault(),!v)return void d.Ay.error("Authentication token missing. Please login.");if(l!==i)return void d.Ay.error("Passwords do not match.");if(l.length<6)return void d.Ay.error("Password must be at least 6 characters.");try{j(!0);let e=await (0,f.xw)(l,v);"success"===e.status?(d.Ay.success("Password reset successfully!"),localStorage.removeItem("otpData"),A.push("/")):d.Ay.error(e.message||"Failed to reset password")}catch(e){d.Ay.error(e.message||"Something went wrong")}finally{j(!1)}};return(0,t.jsx)(x.Zp,{children:(0,t.jsx)(x.Wu,{className:"pt-6",children:(0,t.jsxs)("form",{className:"space-y-4",onSubmit:k,children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(w.J,{htmlFor:"password",children:"New password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(m.p,{id:"password",name:"password",type:e?"text":"password",placeholder:"••••••••",required:!0,className:"pr-10",value:l,onChange:e=>o(e.target.value)}),(0,t.jsxs)(p.$,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 text-primary",onClick:()=>s(!e),children:[e?(0,t.jsx)(h.A,{className:"h-4 w-4"}):(0,t.jsx)(u.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:e?"Hide password":"Show password"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(w.J,{htmlFor:"confirm-password",children:"Confirm new password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(m.p,{id:"confirm-password",name:"confirm-password",type:r?"text":"password",placeholder:"••••••••",required:!0,className:"pr-10",value:i,onChange:e=>y(e.target.value)}),(0,t.jsxs)(p.$,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 text-primary",onClick:()=>a(!r),children:[r?(0,t.jsx)(h.A,{className:"h-4 w-4"}):(0,t.jsx)(u.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:r?"Hide password":"Show password"})]})]})]}),(0,t.jsx)(p.$,{type:"submit",disabled:g,className:"cursor-pointer w-full bg-primary text-white font-medium py-3 rounded-lg",children:g?"Resetting...":"Reset password"})]})})})}function g(){return(0,t.jsx)("div",{className:"h-screen w-full overflow-hidden",children:(0,t.jsxs)("div",{className:"grid h-full grid-cols-1 md:grid-cols-2",children:[(0,t.jsx)("div",{className:"hidden h-full sm:block",children:(0,t.jsx)(i(),{href:"/",children:(0,t.jsx)("div",{className:"relative h-full w-full",children:(0,t.jsx)(l(),{src:"/images/home/auth.webp",alt:"Logo",className:"object-cover",fill:!0,priority:!0})})})}),(0,t.jsxs)("div",{className:"flex h-full flex-col items-center justify-center overflow-y-auto p-4 md:p-8",children:[(0,t.jsx)("div",{className:"w-full max-w-xl",children:(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)(i(),{href:"/",children:(0,t.jsx)(l(),{src:"/images/home/logo.png",alt:"Logo",width:130,height:100})}),(0,t.jsxs)("div",{className:"text-center mb-7 mt-5",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-primary mb-1",children:"Reset password"}),(0,t.jsx)("p",{className:"text-black",children:"Enter a new password for your account"})]}),(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)(y,{})})]})}),(0,t.jsx)("footer",{className:"py-6 text-center text-sm text-muted-foreground",children:(0,t.jsx)("p",{children:"\xa9 2025 ManuscriptPRO. All rights reserved."})})]})]})})}function j(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(g,{})})}},42341:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(11713).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},67897:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(11713).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},98072:(e,s,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/reset-password",function(){return r(39316)}])}},e=>{var s=s=>e(e.s=s);e.O(0,[134,323,636,593,792],()=>s(98072)),_N_E=e.O()}]);