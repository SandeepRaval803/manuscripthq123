(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{11713:(e,s,r)=>{"use strict";r.d(s,{A:()=>u});var t=r(14232);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),i=e=>{let s=l(e);return s.charAt(0).toUpperCase()+s.slice(1)},n=function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return s.filter((e,s,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===s).join(" ").trim()},o=e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,t.forwardRef)((e,s)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:d="",children:u,iconNode:m,...h}=e;return(0,t.createElement)("svg",{ref:s,...c,width:a,height:a,stroke:r,strokeWidth:i?24*Number(l)/Number(a):l,className:n("lucide",d),...!u&&!o(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[s,r]=e;return(0,t.createElement)(s,r)}),...Array.isArray(u)?u:[u]])}),u=(e,s)=>{let r=(0,t.forwardRef)((r,l)=>{let{className:o,...c}=r;return(0,t.createElement)(d,{ref:l,iconNode:s,className:n("lucide-".concat(a(i(e))),"lucide-".concat(e),o),...c})});return r.displayName=i(e),r}},42341:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(11713).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},67897:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(11713).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},82898:(e,s,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(99163)}])},95574:(e,s,r)=>{"use strict";r.d(s,{N:()=>l});var t=r(37876),a=r(14232);let l=e=>(0,a.createElement)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},(0,t.jsx)("path",{d:"M21.35 11.1h-9.18v2.92h5.42c-.23 1.25-.93 2.31-1.98 3.02l3.2 2.49c1.86-1.72 2.93-4.25 2.93-7.26 0-.7-.07-1.38-.2-2.04z",fill:"#4285F4"}),(0,t.jsx)("path",{d:"M12.17 22c2.7 0 4.97-.9 6.63-2.46l-3.2-2.49c-.9.6-2.04.96-3.43.96-2.64 0-4.88-1.78-5.68-4.18H3.19v2.62A9.83 9.83 0 0 0 12.17 22z",fill:"#34A853"}),(0,t.jsx)("path",{d:"M6.49 13.83a5.87 5.87 0 0 1 0-3.66V7.55H3.19a9.84 9.84 0 0 0 0 8.9l3.3-2.62z",fill:"#FBBC05"}),(0,t.jsx)("path",{d:"M12.17 5.27c1.47 0 2.78.51 3.81 1.5l2.85-2.85A9.81 9.81 0 0 0 12.17 2a9.83 9.83 0 0 0-8.98 5.55l3.3 2.62c.8-2.4 3.04-4.18 5.68-4.18z",fill:"#EA4335"}))},99163:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>b});var t=r(37876),a=r(48230),l=r.n(a),i=r(14232),n=r(89099),o=r(42341),c=r(67897),d=r(89983),u=r(53397),m=r(35627),h=r(89081),p=r(97685),x=r(94723),f=r(12099),w=r(57776),g=r(95574);function v(){let[e,s]=(0,i.useState)(!1),[r,a]=(0,i.useState)(""),[v,j]=(0,i.useState)(""),[y,N]=(0,i.useState)(!1),[b,A]=(0,i.useState)(!1),{login:k}=(0,f.A)(),C=(0,n.useRouter)(),S=async e=>{var s,t,l,i,n;e.preventDefault(),N(!0);try{let e=await (0,x.az)(r,v);"success"===e.status?(await k(e.user,e.token),(null==e||null==(s=e.user)?void 0:s.isManuscript)===!1?C.push("/create-manuscripthq"):(p.Ay.success(e.message),C.push("/dashboard")),a(""),j("")):(null==(t=e.message)?void 0:t.toLowerCase().includes("password"))||(null==(l=e.message)?void 0:l.toLowerCase().includes("credentials"))?p.Ay.error("Invalid password"):p.Ay.error(e.message)}catch(e){(null==e||null==(i=e.message)?void 0:i.toLowerCase().includes("password"))||(null==e||null==(n=e.message)?void 0:n.toLowerCase().includes("credentials"))?p.Ay.error("Invalid password"):p.Ay.error((null==e?void 0:e.message)||"Login failed")}finally{N(!1)}},E=(0,w.mg)({flow:"implicit",scope:"profile email",onSuccess:async e=>{let s=null==e?void 0:e.access_token;if(!s)return void p.Ay.error("Missing access token from Google");A(!0);let r=p.Ay.loading("Signing in with Google...");try{let e=await fetch("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:"Bearer ".concat(s)}});if(!e.ok)throw Error("Failed to fetch Google user info");let r=await e.json(),a=null==r?void 0:r.email;if(!a)throw Error("Google email not available");let l=new URLSearchParams;l.append("email",a);let i=await fetch("https://apis.manuscripthq.com/api/user/signin-with-google",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l.toString()}),n=await i.json();if((null==n?void 0:n.status)==="success"){var t;await k(n.user,n.token),p.Ay.success("Login Successfully!"),(null==n||null==(t=n.user)?void 0:t.isManuscript)===!1?C.replace("/create-manuscripthq"):C.replace("/dashboard")}else p.Ay.error((null==n?void 0:n.message)||"Invalid email or password.")}catch(e){p.Ay.error((null==e?void 0:e.message)||"Network error.")}finally{p.Ay.dismiss(r),A(!1)}},onError:()=>p.Ay.error("Google Sign-In failed")});return(0,t.jsx)(h.Zp,{children:(0,t.jsx)(h.Wu,{className:"pt-6",children:(0,t.jsxs)("form",{className:"space-y-4",onSubmit:S,children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m.J,{htmlFor:"email",children:"Email"}),(0,t.jsx)(u.p,{id:"email",name:"email",type:"email",placeholder:"name@example.com",value:r,onChange:e=>a(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(m.J,{htmlFor:"password",children:"Password"}),(0,t.jsx)(l(),{href:"/forgot-password",className:"text-xs text-primary",children:"Forgot password?"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.p,{id:"password",name:"password",type:e?"text":"password",placeholder:"••••••••",className:"pr-10",value:v,onChange:e=>j(e.target.value),required:!0}),(0,t.jsxs)(d.$,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 text-primary",onClick:()=>s(!e),children:[e?(0,t.jsx)(o.A,{className:"h-4 w-4"}):(0,t.jsx)(c.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:e?"Hide password":"Show password"})]})]})]}),(0,t.jsx)(d.$,{type:"submit",disabled:y,className:"cursor-pointer w-full bg-primary text-white font-medium py-3 rounded-lg",children:y?"Signing in...":"Sign in"}),(0,t.jsxs)("div",{className:"relative mb-6",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("span",{className:"w-full border-t"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,t.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),(0,t.jsxs)(d.$,{type:"button",variant:"outline",onClick:()=>!b&&E(),disabled:b,className:"w-full flex items-center justify-center gap-2",children:[(0,t.jsx)(g.N,{className:"w-4 h-4"}),b?"Processing...":"Google"]})]})})})}var j=r(54587),y=r.n(j);function N(){return(0,t.jsx)("div",{className:"h-screen w-full overflow-hidden",children:(0,t.jsxs)("div",{className:"grid h-full grid-cols-1 md:grid-cols-2",children:[(0,t.jsx)("div",{className:"hidden h-full sm:block",children:(0,t.jsx)(l(),{href:"/",children:(0,t.jsx)("div",{className:"relative h-full w-full",children:(0,t.jsx)(y(),{src:"/images/home/auth.webp",alt:"Logo",className:"object-cover",fill:!0,priority:!0})})})}),(0,t.jsxs)("div",{className:"flex h-full flex-col items-center justify-between overflow-y-auto p-4 md:p-8",children:[(0,t.jsx)("div",{className:"w-full max-w-xl",children:(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)(l(),{href:"/",children:(0,t.jsx)(y(),{src:"/images/home/logo.png",alt:"Logo",width:130,height:100})}),(0,t.jsxs)("div",{className:"mb-5 mt-4 text-center",children:[(0,t.jsx)("h1",{className:"mb-1 text-2xl font-bold text-primary md:text-3xl",children:"Welcome to ManuscriptHQ"}),(0,t.jsx)("p",{className:"text-sm text-black md:text-base",children:"Enter your credentials to access your account"})]}),(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)(v,{})}),(0,t.jsx)("div",{className:"mt-5 text-center text-sm",children:(0,t.jsxs)("p",{children:["Don't have an account?"," ",(0,t.jsx)(l(),{href:"/register",className:"font-medium text-primary",children:"Sign up"})]})})]})}),(0,t.jsx)("footer",{className:"pt-4 text-center text-sm text-muted-foreground",children:(0,t.jsx)("p",{children:"\xa9 2025 ManuscriptPRO. All rights reserved."})})]})]})})}function b(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(N,{})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[134,323,636,593,792],()=>s(82898)),_N_E=e.O()}]);