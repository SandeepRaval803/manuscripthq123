exports.id=688,exports.ids=[688],exports.modules={3508:(e,t,a)=>{"use strict";a.d(t,{A:()=>o,n:()=>i});var r=a(8732);a(44233);var s=a(82015);let n=(0,s.createContext)();function i({children:e}){let[t,a]=(0,s.useState)(null),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),[l,u]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),m=async(e,t)=>{a(e),o(t),h(!0),u(!0)},f=async()=>{if(l)return p;try{if(!i)return h(!1),u(!0),!1;let e=await fetch("https://apis.manuscripthq.com/api/user/authenticate-token",{method:"POST",headers:{"Content-Type":"application/json","auth-token":i}}),t=await e.json(),a="success"===t.status&&!0===t.data.isValid;return h(a),u(!0),a}catch(e){return console.error("Authentication check failed:",e),h(!1),u(!0),!1}};return(0,r.jsx)(n.Provider,{value:{user:t,loading:c,login:m,logout:()=>{a(null),o(null),h(!1),u(!0)},updateUser:e=>{a(e)},token:i,isAuthenticated:f,authChecked:l,isAuthValid:p},children:e})}let o=()=>(0,s.useContext)(n)},15425:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var r=a(8732),s=a(82341);function n(){return(0,r.jsxs)(s.Html,{lang:"en",children:[(0,r.jsxs)(s.Head,{children:[(0,r.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,r.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"true"}),(0,r.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Albert+Sans:ital,wght@0,100..900;1,100..900&family=Manrope:wght@200..800&family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&family=Raleway:ital,wght@0,100..900;1,100..900&family=Urbanist:ital,wght@0,100..900;1,100..900&display=swap",rel:"stylesheet"})]}),(0,r.jsxs)("body",{className:"antialiased",children:[(0,r.jsx)(s.Main,{}),(0,r.jsx)(s.NextScript,{})]})]})}},20546:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var r=a(8732);a(82015);var s=a(44233),n=a(3508),i=a(72452);let o=["/dashboard/manuscript","/dashboard/editor","/dashboard/formatting-wizard","/dashboard/marketing","/dashboard/distribution"];function c({children:e}){let t=(0,s.useRouter)(),{user:a,loading:c}=(0,n.A)(),d=t.pathname;return c?(0,r.jsx)(i.Gw,{}):o.some(e=>d.startsWith(e))&&a?.subscription!=="Premium"?(0,r.jsx)(i.Gw,{message:"Redirecting to subscription..."}):e}},26047:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>m});var s=a(8732),n=a(3508);a(60979);var i=a(44233),o=a(82015),c=a(42893),d=a(98163),l=a(20546),u=a(96017),p=e([c]);function h({children:e}){let t=(0,i.useRouter)(),{isAuthenticated:a,loading:r,user:c}=(0,n.A)(),[l,u]=(0,o.useState)(!0),[p,h]=(0,o.useState)(!1);if(r||l)return(0,s.jsx)(d.n,{message:"Checking authentication..."});let m=["/","/register","/forgot-password","/reset-password","/otp","/checklistpremium/[token]"].includes(t.pathname);return"/checklistpremium/[token]"===t.pathname||m||p||"/create-manuscripthq"===t.pathname?e:(0,s.jsx)(d.n,{message:"Authentication required..."})}function m({Component:e,pageProps:t}){return(0,s.jsx)(u.GoogleOAuthProvider,{clientId:"898663677077-egb65e9bvlgvlbn6ubpbhaee3ovqjtmn.apps.googleusercontent.com",children:(0,s.jsx)(n.n,{children:(0,s.jsx)(h,{children:(0,s.jsxs)(l.A,{children:[(0,s.jsx)(e,{...t}),(0,s.jsx)(c.Toaster,{position:"top-right"})]})})})})}c=(p.then?(await p)():p)[0],r()}catch(e){r(e)}})},26794:(e,t,a)=>{"use strict";a.d(t,{$z:()=>o,Bl:()=>f,DG:()=>d,Gy:()=>j,Hm:()=>y,UZ:()=>n,VG:()=>p,W3:()=>x,XU:()=>g,ZA:()=>i,az:()=>s,f3:()=>u,hd:()=>b,iV:()=>m,oB:()=>k,sD:()=>w,uL:()=>v,ug:()=>l,vk:()=>h,xw:()=>c});let r=process.env.NEXT_PUBLIC_API_BASE_URL||"https://apis.manuscripthq.com/api",s=async(e,t)=>{let a=new URLSearchParams;a.append("email",e),a.append("password",t);let s=await fetch(`${r}/user/login`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a});if(!s.ok)throw Error((await s.json()).message||"Login failed");return await s.json()},n=async(e,t,a,s,n)=>{let i=new URLSearchParams;i.append("firstName",e),i.append("lastName",t),i.append("email",a),i.append("password",s),"WRITER25"===n&&(i.append("subscription","Premium"),i.append("couponCode","WRITER25"));let o=await fetch(`${r}/user/register`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i});if(!o.ok)throw Error((await o.json()).message||"Registration failed");return await o.json()},i=async(e,t)=>{let a={...e,targetCount:Number(e.targetCount)},s=await fetch(`${r}/manuscript/create`,{method:"POST",headers:{"Content-Type":"application/json","auth-token":t},body:JSON.stringify(a)});if(!s.ok){let e="Failed to create manuscript";try{let t=await s.json();t.message&&(e=t.message)}catch(e){}throw Error(e)}return await s.json()},o=async e=>{let t=new URLSearchParams;t.append("email",e);let a=await fetch(`${r}/user/forgotPassword`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t.toString()});if(!a.ok){let e=await a.text();console.error("Error response text:",e);let t="Failed to send reset link";try{let a=JSON.parse(e);a.message&&(t=a.message)}catch{}throw Error(t)}return await a.json()},c=async(e,t)=>{let a=new URLSearchParams;a.append("password",e);try{let e=await fetch(`${r}/user/changePassword`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","auth-token":t},body:a.toString()});if(!e.ok){let t=await e.json();throw Error(t.message||"Password reset failed")}return await e.json()}catch(e){throw Error(e.message||"Failed to reset password")}},d=async(e,t)=>{let a=new Headers;a.append("auth-token",t),a.append("Content-Type","application/json");let s=JSON.stringify(e);try{let e=await fetch(`${r}/user/updateUser`,{method:"PUT",headers:a,body:s,redirect:"follow"});if(!e.ok){let t=await e.json();throw Error(t.message||"User update failed")}return await e.json()}catch(e){throw console.error("Error updating user details:",e),Error("Failed to update user details")}},l=async e=>{try{let t=await fetch(`${r}/manuscript/get`,{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded","auth-token":e}});return await t.json()}catch(e){throw console.error("Error fetching manuscripts:",e),Error("Failed to fetch manuscripts.")}};async function u({oldPassword:e,newPassword:t,token:a}){try{let s=await fetch(`${r}/user/updatePassword`,{method:"PUT",headers:{"Content-Type":"application/json","auth-token":a},body:JSON.stringify({oldPassword:e,newPassword:t})});return await s.json()}catch(e){return{status:"error",message:e.message||"Network error"}}}async function p(){let e=await fetch(`${r}/videotutorial/getall`);if(!e.ok)throw Error("Failed to fetch tutorials");let t=await e.json();return Array.isArray(t.data)?t.data:[]}let h=async(e,t)=>{try{let a=await fetch(`${r}/manuscript/get/manuscript/${e}`,{method:"GET",headers:{"Content-Type":"application/json","auth-token":t}}),s=await a.json();if("success"===s.status)return s.data;throw Error("Failed to fetch manuscript.")}catch(e){throw Error("Error fetching manuscript.")}},m=async(e,t)=>{if(!e)return[];try{let a=await fetch(`${r}/checklistCategory/checklist/categories-tasks/${t.selectedManuscript._id}`,{method:"GET",headers:{"Content-Type":"application/json","auth-token":e}}),s=await a.json();if("success"===s.status&&Array.isArray(s.data))return s.data.map(e=>({id:e.checklistCategory._id,title:e.checklistCategory.title,checklist:e.checklistTasks.map(e=>({id:e._id,title:e.title,subtitle:e.description||null,completed:e.isCompleted,isProOnly:e.isProOnly})),counts:{total:e.counts.total,completed:e.counts.completed,pending:e.counts.pending}}));return[]}catch(e){return console.error("Error fetching categories:",e),[]}},f=async(e,t,a)=>{if(!e||!a||!t?.selectedManuscript._id)return{title:"",tasks:[]};try{let s=await fetch(`${r}/checklistCategory/withtasks/${a}/${t.selectedManuscript._id}`,{method:"GET",headers:{"Content-Type":"application/json","auth-token":e}}),n=await s.json();if("success"===n.status&&n.data)return{title:n.data.title||"",tasks:n.data.checklistTasks.map(e=>({id:e._id,title:e.title,description:e.description,completed:e.isCompleted,isProOnly:e.isProOnly||!1}))};return{title:"",tasks:[]}}catch(e){return console.error("Error fetching category details:",e),{title:"",tasks:[]}}},g=async(e,t)=>{try{let a=await fetch(`${r}/section/get/tree?manuscriptId=${e}`,{method:"GET",headers:{"Content-Type":"application/json","auth-token":t}}),s=await a.json();if("success"===s.status)return{manuscript:s.data.manuscript,sections:s.data.sections||[],success:!0};return console.error(s.message),{success:!1,message:s.message}}catch(e){return console.error("Error fetching manuscript tree:",e),{success:!1,message:"Error fetching data."}}},w=async({id:e,token:t,manuscriptId:a})=>(await fetch(`${r}/checklisttask/get/task/${e}/${a}`,{method:"GET",headers:{"Content-Type":"application/json","auth-token":t}})).json(),y=async({userId:e,manuscriptId:t,checklistTaskId:a,token:s})=>(await fetch(`${r}/userchecklist/toggle`,{method:"POST",headers:{"Content-Type":"application/json","auth-token":s},body:JSON.stringify({userId:e,manuscriptId:t,checklistTaskId:a})})).json(),x=async(e,t)=>{try{let a=await fetch(`${r}/manuscript/get/manuscript/${e}`,{method:"GET",headers:{"auth-token":t}}),s=await a.json();if("success"===s.status)return s.data;console.error(s?.message||"Failed to fetch manuscript.")}catch(e){throw console.error("Error in fetchSelectedManuscript:",e),e}},v=async(e,t)=>{let a=await fetch(`${r}/manuscript/delete/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json","auth-token":t}});if(!a.ok)throw Error("Failed to delete manuscript");return a.json()},b=async(e,t)=>{if(!e?.selectedManuscript._id||!t)return null;try{let a=await fetch(`${r}/editor/all-content?manuscriptId=${e.selectedManuscript._id}`,{method:"GET",headers:{"Content-Type":"application/json","auth-token":t}}),s=await a.json();if("success"===s.status)return s;throw Error("Failed to load manuscript data")}catch(e){throw Error("Failed to load manuscript data")}},j=async(e,t,a)=>{if(!e?.selectedManuscript||!t)return!1;try{let s=await fetch(`${r}/manuscript/update/${e.selectedManuscript._id}`,{method:"PUT",headers:{"Content-Type":"application/json","auth-token":t},body:JSON.stringify(a)}),n=await s.json();if("success"===n.status)return!0;throw Error(n.message||"Failed to update manuscript")}catch(e){throw Error("Failed to update manuscript")}},k=async(e,t,a,s)=>{if(!e?.selectedManuscript||!t)return!1;try{let e=await fetch(`${r}/manuscript/update/${s}`,{method:"PUT",headers:{"Content-Type":"application/json","auth-token":t},body:JSON.stringify(a)}),n=await e.json();if("success"===n.status)return!0;throw Error(n.message||"Failed to update manuscript")}catch(e){throw Error("Failed to update manuscript")}}},35578:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{p:()=>o});var s=a(8732);a(82015);var n=a(66159),i=e([n]);function o({className:e,type:t,...a}){return(0,s.jsx)("input",{type:t,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-primary focus-visible:ring-[#CA24D6]/50 focus-visible:ring-[2px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}n=(i.then?(await i)():i)[0],r()}catch(e){r(e)}})},42748:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{BT:()=>l,Wu:()=>u,ZB:()=>d,Zp:()=>o,aR:()=>c,wL:()=>p});var s=a(8732);a(82015);var n=a(66159),i=e([n]);function o({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function c({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function d({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",e),...t})}function l({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,n.cn)("text-muted-foreground text-sm",e),...t})}function u({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",e),...t})}function p({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-footer",className:(0,n.cn)("flex items-center px-6 [.border-t]:pt-6",e),...t})}n=(i.then?(await i)():i)[0],r()}catch(e){r(e)}})},48326:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{$:()=>d,r:()=>l});var s=a(8732);a(82015);var n=a(9640),i=a(8938),o=a(66159),c=e([n,i,o]);[n,i,o]=c.then?(await c)():c;let l=(0,i.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"cursor-pointer bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:" cursor-pointer bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border cursor-pointer bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"cursor-pointer bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"cursor-pointer hover:text-accent-foreground dark:hover:bg-accent/50",link:"cursor-pointer text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d({className:e,variant:t,size:a,asChild:r=!1,...i}){let c=r?n.Slot:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,o.cn)(l({variant:t,size:a,className:e})),...i})}r()}catch(e){r(e)}})},60979:()=>{},65452:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{J:()=>c});var s=a(8732);a(82015);var n=a(20598),i=a(66159),o=e([n,i]);function c({className:e,...t}){return(0,s.jsx)(n.Root,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}[n,i]=o.then?(await o)():o,r()}catch(e){r(e)}})},66159:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{cn:()=>o});var s=a(50802),n=a(75979),i=e([s,n]);function o(...e){return(0,n.twMerge)((0,s.clsx)(e))}[s,n]=i.then?(await i)():i,r()}catch(e){r(e)}})},72158:(e,t,a)=>{"use strict";a.d(t,{N3:()=>o});var r=a(8732);a(82015);var s=a(56761),n=a.n(s);let i=({size:e="default",className:t="",showLogo:a=!0})=>(0,r.jsxs)("div",{className:`flex flex-col items-center justify-center gap-4 ${t}`,children:[a&&(0,r.jsx)("div",{className:`relative ${{small:"h-6 w-6",default:"h-12 w-12",large:"h-24 w-24"}[e]}`,children:(0,r.jsx)(n(),{src:"/images/home/logo.png",alt:"ManuscriptHQ Logo",fill:!0,className:"object-contain",priority:!0})}),(0,r.jsx)("div",{className:`animate-spin rounded-full border-b-2 border-primary ${{small:"h-4 w-4",default:"h-8 w-8",large:"h-32 w-32"}[e]}`})]}),o=({size:e="default",className:t="",text:a="Loading...",showLogo:s=!0})=>(0,r.jsxs)("div",{className:`flex flex-col items-center justify-center gap-4 ${t}`,children:[(0,r.jsx)(i,{size:e,showLogo:s}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground animate-pulse",children:a})]})},72452:(e,t,a)=>{"use strict";a.d(t,{Gw:()=>n});var r=a(8732);a(82015);var s=a(72158);let n=({message:e="Loading...",showLogo:t=!1,className:a=""})=>(0,r.jsx)("div",{className:`flex items-center justify-center py-8 ${a}`,children:(0,r.jsx)(s.N3,{size:"small",text:e,showLogo:t})})},98163:(e,t,a)=>{"use strict";a.d(t,{n:()=>n});var r=a(8732);a(82015);var s=a(72158);let n=({message:e="Checking authentication..."})=>(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-6",children:[(0,r.jsx)(s.N3,{size:"large",text:e,showLogo:!0}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Please wait while we verify your credentials"})})]})})}};