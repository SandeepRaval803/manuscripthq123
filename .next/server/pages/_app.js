(()=>{var e={};e.id=636,e.ids=[636],e.modules={3508:(e,t,s)=>{"use strict";s.d(t,{A:()=>c,n:()=>n});var r=s(8732);s(44233);var a=s(82015);let i=(0,a.createContext)();function n({children:e}){let[t,s]=(0,a.useState)(null),[n,c]=(0,a.useState)(null),[o,u]=(0,a.useState)(!0),[l,d]=(0,a.useState)(!1),[h,m]=(0,a.useState)(!1),x=async(e,t)=>{s(e),c(t),m(!0),d(!0)},p=async()=>{if(l)return h;try{if(!n)return m(!1),d(!0),!1;let e=await fetch("https://apis.manuscripthq.com/api/user/authenticate-token",{method:"POST",headers:{"Content-Type":"application/json","auth-token":n}}),t=await e.json(),s="success"===t.status&&!0===t.data.isValid;return m(s),d(!0),s}catch(e){return console.error("Authentication check failed:",e),m(!1),d(!0),!1}};return(0,r.jsx)(i.Provider,{value:{user:t,loading:o,login:x,logout:()=>{s(null),c(null),m(!1),d(!0)},updateUser:e=>{s(e)},token:n,isAuthenticated:p,authChecked:l,isAuthValid:h},children:e})}let c=()=>(0,a.useContext)(i)},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},20546:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(8732);s(82015);var a=s(44233),i=s(3508),n=s(72452);let c=["/dashboard/manuscript","/dashboard/editor","/dashboard/formatting-wizard","/dashboard/marketing","/dashboard/distribution"];function o({children:e}){let t=(0,a.useRouter)(),{user:s,loading:o}=(0,i.A)(),u=t.pathname;return o?(0,r.jsx)(n.Gw,{}):c.some(e=>u.startsWith(e))&&s?.subscription!=="Premium"?(0,r.jsx)(n.Gw,{message:"Redirecting to subscription..."}):e}},22326:e=>{"use strict";e.exports=require("react-dom")},26047:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>x});var a=s(8732),i=s(3508);s(60979);var n=s(44233),c=s(82015),o=s(42893),u=s(98163),l=s(20546),d=s(96017),h=e([o]);function m({children:e}){let t=(0,n.useRouter)(),{isAuthenticated:s,loading:r,user:o}=(0,i.A)(),[l,d]=(0,c.useState)(!0),[h,m]=(0,c.useState)(!1);if(r||l)return(0,a.jsx)(u.n,{message:"Checking authentication..."});let x=["/","/register","/forgot-password","/reset-password","/otp","/checklistpremium/[token]"].includes(t.pathname);return"/checklistpremium/[token]"===t.pathname||x||h||"/create-manuscripthq"===t.pathname?e:(0,a.jsx)(u.n,{message:"Authentication required..."})}function x({Component:e,pageProps:t}){return(0,a.jsx)(d.GoogleOAuthProvider,{clientId:"898663677077-egb65e9bvlgvlbn6ubpbhaee3ovqjtmn.apps.googleusercontent.com",children:(0,a.jsx)(i.n,{children:(0,a.jsx)(m,{children:(0,a.jsxs)(l.A,{children:[(0,a.jsx)(e,{...t}),(0,a.jsx)(o.Toaster,{position:"top-right"})]})})})})}o=(h.then?(await h)():h)[0],r()}catch(e){r(e)}})},27910:e=>{"use strict";e.exports=require("stream")},29021:e=>{"use strict";e.exports=require("fs")},40361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},42893:e=>{"use strict";e.exports=import("react-hot-toast")},60979:()=>{},72158:(e,t,s)=>{"use strict";s.d(t,{N3:()=>c});var r=s(8732);s(82015);var a=s(56761),i=s.n(a);let n=({size:e="default",className:t="",showLogo:s=!0})=>(0,r.jsxs)("div",{className:`flex flex-col items-center justify-center gap-4 ${t}`,children:[s&&(0,r.jsx)("div",{className:`relative ${{small:"h-6 w-6",default:"h-12 w-12",large:"h-24 w-24"}[e]}`,children:(0,r.jsx)(i(),{src:"/images/home/logo.png",alt:"ManuscriptHQ Logo",fill:!0,className:"object-contain",priority:!0})}),(0,r.jsx)("div",{className:`animate-spin rounded-full border-b-2 border-primary ${{small:"h-4 w-4",default:"h-8 w-8",large:"h-32 w-32"}[e]}`})]}),c=({size:e="default",className:t="",text:s="Loading...",showLogo:a=!0})=>(0,r.jsxs)("div",{className:`flex flex-col items-center justify-center gap-4 ${t}`,children:[(0,r.jsx)(n,{size:e,showLogo:a}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground animate-pulse",children:s})]})},72452:(e,t,s)=>{"use strict";s.d(t,{Gw:()=>i});var r=s(8732);s(82015);var a=s(72158);let i=({message:e="Loading...",showLogo:t=!1,className:s=""})=>(0,r.jsx)("div",{className:`flex items-center justify-center py-8 ${s}`,children:(0,r.jsx)(a.N3,{size:"small",text:e,showLogo:t})})},74075:e=>{"use strict";e.exports=require("zlib")},82015:e=>{"use strict";e.exports=require("react")},96017:e=>{"use strict";e.exports=require("@react-oauth/google")},98163:(e,t,s)=>{"use strict";s.d(t,{n:()=>i});var r=s(8732);s(82015);var a=s(72158);let i=({message:e="Checking authentication..."})=>(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-6",children:[(0,r.jsx)(a.N3,{size:"large",text:e,showLogo:!0}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Please wait while we verify your credentials"})})]})})}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[89,969],()=>s(26047));module.exports=r})();