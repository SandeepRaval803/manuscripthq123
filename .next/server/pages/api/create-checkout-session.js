"use strict";(()=>{var e={};e.id=711,e.ids=[711],e.modules={8667:(e,t)=>{Object.defineProperty(t,"A",{enumerable:!0,get:function(){return s}});var s=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},33480:(e,t,s)=>{e.exports=s(75600)},39767:e=>{e.exports=import("stripe")},53240:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>o});var n=s(39767),i=e([n]);let a=new(n=(i.then?(await i)():i)[0]).default(process.env.NEXT_PUBLIC_STRIPE_SECRET_KEY||"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");async function o(e,t){if("POST"!==e.method)return t.status(405).json({message:"Method not allowed"});try{let{priceId:s,successUrl:r,cancelUrl:n}=e.body;if(!s)return t.status(400).json({message:"Price ID is required"});let i=await a.checkout.sessions.create({payment_method_types:["card"],line_items:[{price:s,quantity:1}],mode:"subscription",success_url:(r||`${e.headers.origin}/dashboard/subscription?success=true`)+"&session_id={CHECKOUT_SESSION_ID}",cancel_url:n||`${e.headers.origin}/dashboard/subscription`,customer_email:e.body.email,billing_address_collection:"auto",allow_promotion_codes:!0});t.status(200).json({url:i.url})}catch(e){console.error("Stripe checkout session error:",e),t.status(500).json({message:"Failed to create checkout session"})}}r()}catch(e){r(e)}})},75600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},86435:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},90170:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>d,default:()=>u,routeModule:()=>l});var n=s(33480),i=s(8667),o=s(86435),a=s(53240),c=e([a]);a=(c.then?(await c)():c)[0];let u=(0,o.M)(a,"default"),d=(0,o.M)(a,"config"),l=new n.PagesAPIRouteModule({definition:{kind:i.A.PAGES_API,page:"/api/create-checkout-session",pathname:"/api/create-checkout-session",bundlePath:"",filename:""},userland:a});r()}catch(e){r(e)}})}};var t=require("../../webpack-api-runtime.js");t.C(e);var s=t(t.s=90170);module.exports=s})();